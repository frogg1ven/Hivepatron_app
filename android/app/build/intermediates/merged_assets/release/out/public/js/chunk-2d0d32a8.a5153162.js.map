{"version":3,"sources":["webpack:///./src/views/SettingsPage.vue","webpack:///./src/views/SettingsPage.vue?fff4"],"names":["class","page-title","update_alarm_state","$event","checked","components","IonContent","IonToggle","IonRow","IonCol","IonLabel","setup","methods","event","alarm_data","FormData","user_name","this","$store","getters","username","set","append","target","a","post","then","res","console","log","status","catch","error","set_alarm_state","state","created","get_alarm_data","data","render"],"mappings":"4IAGSA,MAAM,U,GACFA,MAAM,U,+BAEuB,sC,EAI5B,gCAAY,SAAT,SAAK,G,2UATpB,yBAmBc,GAnBDC,aAAW,cAAY,C,8BACpC,iBAiBgB,CAjBhB,yBAiBgB,Q,8BAhBd,iBAcM,CAdN,gCAcM,MAdN,EAcM,CAbF,gCAYI,MAZJ,EAYI,CAXF,yBAEU,Q,8BADR,iBAA4E,CAA5E,yBAA4E,GAAjED,MAAM,cAAY,C,8BAAC,iBAAkC,C,sBAElE,yBAOU,Q,8BANR,iBAEU,CAFV,yBAEU,Q,8BADR,iBAAY,CAAZ,M,MAEF,yBAEU,Q,8BADR,iBAAoF,CAApF,yBAAoF,GAAvE,YAAS,+BAAE,EAAAE,mBAAmBC,KAAUC,QAAS,EAAAA,S,qGAsB7D,+BAAgB,CAC7BC,WAAY,CACVC,WAAA,OACAC,UAAA,OACAC,OAAA,OACAC,OAAA,OACAC,SAAA,QAEFC,MAR6B,WAS3B,IAAMP,EAAU,iBAAI,IACpB,MAAO,CAAEA,YAEXQ,QAAS,CACPV,mBADO,SACYW,GACjB,IAAMC,EAAa,IAAIC,SACnBC,EAAYC,KAAKC,OAAOC,QAAQC,SACpCN,EAAWO,IAAI,YAAaL,GAC5BF,EAAWQ,OAAO,cAAeT,EAAMU,OAAOnB,SAC9CU,EAAWQ,OAAO,MAAO,gBAIzB,EAAAE,EAAMC,KAAK,8CAA+CX,GACzDY,MAAK,SAAAC,GACFC,QAAQC,IAAIF,EAAIG,WAEnBC,OAAM,SAAAC,GACPJ,QAAQC,IAAIG,OAIdC,gBAnBO,SAmBSC,GAEZjB,KAAKb,QADM,GAAT8B,IAMRC,QAtC6B,WAsCnB,WACFC,EAAiB,IAAIrB,SAC3BqB,EAAef,IAAI,YAAaJ,KAAKC,OAAOC,QAAQC,UACpDgB,EAAed,OAAO,MAAO,aAC7B,EAAAE,EAAMC,KAAK,8CAA+CW,GACvDV,MAAK,SAAAC,GAEJC,QAAQC,IAAI,gBAAkBF,EAAIU,MAClC,EAAKJ,gBAAgBN,EAAIU,SAG1BN,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,SClFpB,EAAOM,OAASA,EAED","file":"js/chunk-2d0d32a8.a5153162.js","sourcesContent":["<template>\r\n  <base-layout page-title=\"Ustawienia\">\r\n  <ion-content>\r\n    <div class=\"center\">\r\n        <div class=\"bg-img\">\r\n          <ion-row>\r\n            <ion-label class=\"label-text\">Powiadomienia o mo≈ºliwym wyrojeniu</ion-label>\r\n          </ion-row>\r\n          <ion-row>\r\n            <ion-col>\r\n              <p>Alarm</p>\r\n            </ion-col>\r\n            <ion-col>\r\n              <ion-toggle @ionChange=\"update_alarm_state($event)\" :checked=\"checked\"></ion-toggle>\r\n            </ion-col>\r\n          </ion-row>\r\n      </div>\r\n    </div>\r\n    \r\n    </ion-content>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { \r\n  IonContent,\r\n  IonToggle,\r\n  IonRow,\r\n  IonCol,\r\n  IonLabel,\r\n} from '@ionic/vue';\r\nimport { defineComponent , ref} from 'vue';\r\nimport axios from \"axios\"\r\n\r\nexport default defineComponent({\r\n  components: {\r\n    IonContent,\r\n    IonToggle,\r\n    IonRow,\r\n    IonCol,\r\n    IonLabel\r\n  },\r\n  setup() {\r\n    const checked = ref([]);\r\n    return { checked };\r\n  },\r\n  methods: {\r\n    update_alarm_state(event) {\r\n      const alarm_data = new FormData();\r\n      let user_name = this.$store.getters.username;\r\n      alarm_data.set('user_name', user_name);\r\n      alarm_data.append('alarm_state', event.target.checked);\r\n      alarm_data.append('fun', 'update_alarm');\r\n\r\n      // console.log(user_name, event.target.checked)\r\n\r\n      axios.post(\"http://192.3.81.66/assets/php/app/index.php\", alarm_data)\r\n      .then(res => {\r\n          console.log(res.status)\r\n      })\r\n      .catch(error => {\r\n      console.log(error)\r\n          // Manage errors if found any\r\n      })\r\n    },\r\n    set_alarm_state(state) {\r\n      if (state == 1)\r\n        this.checked = true\r\n      else\r\n        this.checked = false\r\n    }\r\n  },\r\n  created() {\r\n    const get_alarm_data = new FormData();\r\n    get_alarm_data.set('user_name', this.$store.getters.username);\r\n    get_alarm_data.append('fun', 'get_alarm');\r\n    axios.post(\"http://192.3.81.66/assets/php/app/index.php\", get_alarm_data)\r\n      .then(res => {\r\n\r\n        console.log(\"Alarm state: \" + res.data)\r\n        this.set_alarm_state(res.data)\r\n\r\n      })\r\n      .catch(error => {\r\n        console.log(error)\r\n         // Manage errors if found any\r\n      })\r\n  }\r\n\r\n});\r\n</script>\r\n","import { render } from \"./SettingsPage.vue?vue&type=template&id=577ae2ca\"\nimport script from \"./SettingsPage.vue?vue&type=script&lang=js\"\nexport * from \"./SettingsPage.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}