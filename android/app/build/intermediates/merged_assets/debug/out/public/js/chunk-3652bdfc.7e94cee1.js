(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3652bdfc"],{"1e87":function(e,t,s){"use strict";function a(){return new Worker(s.p+"js/worker.0f0db61e.worker.js")}s.d(t,"a",(function(){return h}));var i=s("4360"),r=new a;function h(e){r.postMessage(e)}r.addEventListener("message",(function(e){switch(e.data[0]){case"user":i["a"].commit("updateUser",e.data[1]);break;case"chartData":i["a"].commit("updateHivenumber",e.data[3]),i["a"].commit("updateTemp",e.data[1][0]),i["a"].commit("updateHumi",e.data[1][1]),i["a"].commit("updateSound",e.data[1][2]),i["a"].commit("updateWeight",e.data[1][3]),i["a"].commit("updateBattery",e.data[2]),i["a"].commit("incChartCounter");break;case"tableData":i["a"].commit("updateHivenumber",e.data[3]),i["a"].commit("updateTable",e.data[1]),i["a"].commit("updateBattery",e.data[2]),i["a"].commit("incTableCounter");break}}))},"1f6a":function(e,t,s){"use strict";s.r(t);var a=s("7a23"),i={class:"bg-img2"},r={class:"bg-img2"},h={class:"bg-img2"},o={class:"bg-img2"},n={class:"progress progress-sm mr-2",style:{"margin-top":"8px"}},c={class:"chart"},d={class:"bg-img2"},l={class:"bg-img2"},p={class:"bg-img2"},u={class:"bg-img2"};function m(e,t,s,m,b,O){var f=Object(a["resolveComponent"])("ion-refresher-content"),x=Object(a["resolveComponent"])("ion-refresher"),g=Object(a["resolveComponent"])("ion-label"),w=Object(a["resolveComponent"])("ion-select-option"),D=Object(a["resolveComponent"])("ion-select"),j=Object(a["resolveComponent"])("ion-item"),G=Object(a["resolveComponent"])("ion-row"),y=Object(a["resolveComponent"])("ion-col"),$=Object(a["resolveComponent"])("highcharts"),v=Object(a["resolveComponent"])("base-layout");return Object(a["openBlock"])(),Object(a["createBlock"])(v,{"page-title":"Pasieka"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(x,{slot:"fixed",onIonRefresh:t[0]||(t[0]=function(t){return e.doRefresh(t)})},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(f)]})),_:1}),Object(a["createElementVNode"])("div",i,[Object(a["createVNode"])(g,{class:"label-text"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("Witaj")]})),_:1}),Object(a["createElementVNode"])("p",null,Object(a["toDisplayString"])(e.user.email),1)]),Object(a["createElementVNode"])("div",r,[Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,{class:"label-text"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("Wybrany ul")]})),_:1}),Object(a["createVNode"])(D,{placeholder:"1",onIonChange:t[1]||(t[1]=function(t){return e.changeHive()}),modelValue:e.selectedOption,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.selectedOption=t}),interface:"popover"},{default:Object(a["withCtx"])((function(){return[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(e.hives,(function(e,t){return Object(a["openBlock"])(),Object(a["createBlock"])(w,{key:t,value:e},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]),Object(a["createElementVNode"])("div",h,[Object(a["createVNode"])(j,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,{class:"label-text"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("Czas")]})),_:1}),Object(a["createVNode"])(D,{placeholder:"1 dzień",onIonChange:t[3]||(t[3]=function(t){return e.changeUnit()}),modelValue:e.selectedTime,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.selectedTime=t}),interface:"popover"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(w,{value:"1"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("1 godz.")]})),_:1}),Object(a["createVNode"])(w,{value:"2"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("2 godz.")]})),_:1}),Object(a["createVNode"])(w,{value:"3"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("6 godz.")]})),_:1}),Object(a["createVNode"])(w,{value:"4"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("12 godz.")]})),_:1}),Object(a["createVNode"])(w,{value:"5"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("1 dzień")]})),_:1}),Object(a["createVNode"])(w,{value:"6"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("2 dni")]})),_:1}),Object(a["createVNode"])(w,{value:"7"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("6 dni")]})),_:1}),Object(a["createVNode"])(w,{value:"8"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("12 dni")]})),_:1}),Object(a["createVNode"])(w,{value:"9"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("30 dni")]})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]),Object(a["createElementVNode"])("div",o,[Object(a["createVNode"])(G,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,{class:"label-text"},{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])("Bateria")]})),_:1})]})),_:1}),Object(a["createVNode"])(G,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(y,null,{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(g,null,{default:Object(a["withCtx"])((function(){return[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.battery_var),1)]})),_:1})]})),_:1}),Object(a["createVNode"])(y,{size:"9"},{default:Object(a["withCtx"])((function(){return[Object(a["createElementVNode"])("div",n,[Object(a["createElementVNode"])("div",{class:"progress-bar bg-info",role:"progressbar",style:Object(a["normalizeStyle"])({width:e.battery+"%"}),"aria-valuenow":"90","aria-valuemin":"0","aria-valuemax":"100",id:"batery",ref:"batery"},null,4)])]})),_:1})]})),_:1})]),Object(a["createElementVNode"])("div",c,[Object(a["createElementVNode"])("div",d,[Object(a["createVNode"])($,{ref:"weightGraph",options:e.weightOptions},null,8,["options"])]),Object(a["createElementVNode"])("div",l,[Object(a["createVNode"])($,{ref:"tempGraph",options:e.tempOptions},null,8,["options"])]),Object(a["createElementVNode"])("div",p,[Object(a["createVNode"])($,{ref:"humiGraph",options:e.humiOptions},null,8,["options"])]),Object(a["createElementVNode"])("div",u,[Object(a["createVNode"])($,{ref:"soundGraph",options:e.soundOptions,callback:e.chartCallback},null,8,["options","callback"])])])]})),_:1})}var b=s("d867"),O=s("db6c"),f=s("260b"),x=(s("ea7b"),s("1e87")),g=s("4360"),w=Object(a["defineComponent"])({components:{IonItem:b["h"],IonLabel:b["i"],IonSelect:b["r"],IonSelectOption:b["s"],BaseLayout:O["a"],IonCol:b["c"],IonRow:b["q"],IonRefresher:b["n"],IonRefresherContent:b["o"]},data:function(){return{user:"",key:"",user_info:[],token:"",hives:[],selectedOption:1,selectedTime:5,weightData:g["a"].state.weightData,tempData:g["a"].state.tempData,humiData:g["a"].state.humiData,soundData:g["a"].state.soundData,battery:g["a"].state.batteryData,battery_var:"0%",weightOptions:{chart:{type:"spline"},boost:{enabled:!0,useGPUTranslations:!0,usePreAllocated:!0},title:{text:"Waga"},navigator:{enabled:!0},scrollbar:{enabled:!0},time:{useUTC:!1},tooltip:{crosshairs:!0,shared:!0,headerFormat:"<b>{series.name}</b><br/>",pointFormat:"{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f} kg"},xAxis:{type:"datetime"},yAxis:{title:{text:"Waga (kg)"}},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{spline:{marker:{radius:4,lineColor:"#f9db1a",lineWidth:1}}}},tempOptions:{chart:{type:"spline"},boost:{enabled:!0,useGPUTranslations:!0,usePreAllocated:!0},title:{text:"Temperatura"},time:{useUTC:!1},tooltip:{crosshairs:!0,shared:!0,headerFormat:"<b>{series.name}</b><br/>",pointFormat:"{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f} °C"},xAxis:{type:"datetime"},yAxis:{title:{text:"Temperatura (°C)"}},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{spline:{marker:{radius:4,lineColor:"#f9db1a",lineWidth:1}}}},humiOptions:{chart:{type:"spline"},boost:{enabled:!0,useGPUTranslations:!0,usePreAllocated:!0},title:{text:"Wilgotność"},time:{useUTC:!1},tooltip:{crosshairs:!0,shared:!0,headerFormat:"<b>{series.name}</b><br/>",pointFormat:"{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f} %"},xAxis:{type:"datetime"},yAxis:{title:{text:"Wilgotność (%)"}},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{spline:{marker:{radius:4,lineColor:"#f9db1a",lineWidth:1}}}},soundOptions:{chart:{type:"spline"},boost:{enabled:!0,useGPUTranslations:!0,usePreAllocated:!0},title:{text:"Dźwięk"},time:{useUTC:!1},tooltip:{crosshairs:!0,shared:!0,headerFormat:"<b>{series.name}</b><br/>",pointFormat:"{point.x:%Y-%m-%d %H:%M:%S}<br/>{point.y:.2f} V"},xAxis:{type:"datetime"},yAxis:{title:{text:"Dźwięk (V)"}},legend:{enabled:!1},credits:{enabled:!1},plotOptions:{spline:{marker:{radius:4,lineColor:"#f9db1a",lineWidth:1}}}}}},created:function(){var e=this;f["a"].auth().onAuthStateChanged((function(t){t?(e.user=t,g["a"].commit("sendToken",e.user.email),e.$refs.weightGraph.chart.showLoading("Wczytywanie danych..."),e.$refs.tempGraph.chart.showLoading("Wczytywanie danych..."),e.$refs.humiGraph.chart.showLoading("Wczytywanie danych..."),e.$refs.soundGraph.chart.showLoading("Wczytywanie danych..."),Object(x["a"])([e.user.email,1,"chart"])):(e.user="",e.$router.push("/login"))}))},computed:{counterUpdated:function(){return g["a"].state.chartsChangeCounter}},watch:{counterUpdated:function(){console.log("Hives data updated!"),this.fillCharts()}},methods:{chartCallback:function(){var e=this;console.log("callback"),setTimeout((function(){e.$refs.weightGraph.chart.reflow(),e.$refs.tempGraph.chart.reflow(),e.$refs.humiGraph.chart.reflow(),e.$refs.soundGraph.chart.reflow()}),100)},fillCharts:function(){if(this.user_info=g["a"].state.userData,!this.hives.length)for(var e=0;e<this.user_info[2];e++)this.hives.push(e+1);this.tempData=g["a"].state.tempData[this.selectedOption-1],this.humiData=g["a"].state.humiData[this.selectedOption-1],this.soundData=g["a"].state.soundData[this.selectedOption-1],this.weightData=g["a"].state.weightData[this.selectedOption-1],this.battery=g["a"].state.batteryData[this.selectedOption-1],this.battery>100?this.battery_var="100%":this.battery_var=this.battery+"%",this.$refs.weightGraph.chart.addSeries({name:"Waga",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.tempGraph.chart.addSeries({name:"Temperatura",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.humiGraph.chart.addSeries({name:"Wilgotność",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.soundGraph.chart.addSeries({name:"Dźwięk",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.weightGraph.chart.hideLoading(),this.$refs.tempGraph.chart.hideLoading(),this.$refs.humiGraph.chart.hideLoading(),this.$refs.soundGraph.chart.hideLoading(),this.$refs.weightGraph.chart.series[0].setData(this.weightData),this.$refs.tempGraph.chart.series[0].setData(this.tempData),this.$refs.humiGraph.chart.series[0].setData(this.humiData),this.$refs.soundGraph.chart.series[0].setData(this.soundData)},changeUnit:function(){1==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-36e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-36e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-36e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-36e5,this.soundData[this.selectedOption-1][0][0])):2==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-72e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-72e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-72e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-72e5,this.soundData[this.selectedOption-1][0][0])):3==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-216e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-216e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-216e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-216e5,this.soundData[this.selectedOption-1][0][0])):4==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-432e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-432e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-432e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-432e5,this.soundData[this.selectedOption-1][0][0])):5==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-864e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-864e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-864e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-864e5,this.soundData[this.selectedOption-1][0][0])):6==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-1728e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-1728e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-1728e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-1728e5,this.soundData[this.selectedOption-1][0][0])):7==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-5184e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-5184e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-5184e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-5184e5,this.soundData[this.selectedOption-1][0][0])):8==this.selectedTime?(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-10368e5,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-10368e5,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-10368e5,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-10368e5,this.soundData[this.selectedOption-1][0][0])):9==this.selectedTime&&(this.$refs.weightGraph.chart.xAxis[0].setExtremes(this.weightData[this.selectedOption-1][0][0]-2592e6,this.weightData[this.selectedOption-1][0][0]),this.$refs.tempGraph.chart.xAxis[0].setExtremes(this.tempData[this.selectedOption-1][0][0]-2592e6,this.tempData[this.selectedOption-1][0][0]),this.$refs.humiGraph.chart.xAxis[0].setExtremes(this.humiData[this.selectedOption-1][0][0]-2592e6,this.humiData[this.selectedOption-1][0][0]),this.$refs.soundGraph.chart.xAxis[0].setExtremes(this.soundData[this.selectedOption-1][0][0]-2592e6,this.soundData[this.selectedOption-1][0][0]))},changeHive:function(){this.$refs.weightGraph.chart.series[0].remove(),this.$refs.tempGraph.chart.series[0].remove(),this.$refs.humiGraph.chart.series[0].remove(),this.$refs.soundGraph.chart.series[0].remove(),this.$refs.weightGraph.chart.addSeries({name:"Waga",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.tempGraph.chart.addSeries({name:"Temperatura",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.humiGraph.chart.addSeries({name:"Wilgotność",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.soundGraph.chart.addSeries({name:"Dźwięk",color:"#f9db1a",data:[],boostThreshold:1e3,cropThreshold:3e3}),this.$refs.weightGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.tempGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.humiGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.soundGraph.chart.showLoading("Wczytywanie danych..."),g["a"].state.batteryData[this.selectedOption-1]?this.fillCharts():Object(x["a"])([this.user.email,this.selectedOption,"chart"])},doRefresh:function(e){this.$refs.weightGraph.chart.series[0].remove(),this.$refs.tempGraph.chart.series[0].remove(),this.$refs.humiGraph.chart.series[0].remove(),this.$refs.soundGraph.chart.series[0].remove(),this.$refs.weightGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.tempGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.humiGraph.chart.showLoading("Wczytywanie danych..."),this.$refs.soundGraph.chart.showLoading("Wczytywanie danych..."),Object(x["a"])([this.user.email,this.selectedOption,"chart"]),setTimeout((function(){e.target.complete()}),2e3)}}});w.render=m;t["default"]=w}}]);
//# sourceMappingURL=chunk-3652bdfc.7e94cee1.js.map