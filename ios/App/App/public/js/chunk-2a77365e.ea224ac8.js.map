{"version":3,"sources":["webpack:///./src/worker.js","webpack:///./src/worker-api.js","webpack:///./src/views/TablesPage.vue?e4bc","webpack:///./src/views/TablesPage.vue","webpack:///./src/views/TablesPage.vue?f654"],"names":["Worker_fn","Worker","worker","sendMessage","data","postMessage","addEventListener","e","store","commit","class","style","src","page-title","slot","doRefresh","$event","user","email","placeholder","changeHive","selectedOption","interface","hives","item","index","key","value","battery_var","size","role","battery","aria-valuenow","aria-valuemin","aria-valuemax","id","ref","headers","items","alternating","border-cell","buttons-pagination","table-class-name","empty-message","hide-rows-per-page","hideRowsPerPage","rows-per-page","rowsPerPAge","loading","theme-color","themecolor","components","IonRefresher","IonRefresherContent","IonLabel","IonSelectOption","IonSelect","IonItem","IonRow","IonCol","EasyDataTable","window","text","sortable","created","auth","onAuthStateChanged","console","log","state","weightData","$router","push","computed","counterUpdated","tableChangeCounter","watch","this","fillTable","methods","user_info","userData","length","i","tableData","batteryData","event","setTimeout","target","complete","render","__scopeId"],"mappings":"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","file":"js/chunk-2a77365e.ea224ac8.js","sourcesContent":["export default function Worker_fn() {\n  return new Worker(__webpack_public_path__ + \"js/worker.0f0db61e.worker.js\");\n}\n","import Worker from 'worker-loader!./worker';\r\nimport store from \"@/store/index.js\";\r\n\r\nconst worker = new Worker();\r\n\r\nworker.addEventListener('message', (e) => {\r\n    switch (e.data[0]){\r\n        case \"user\":\r\n            store.commit(\"updateUser\", e.data[1])\r\n            break;\r\n        case \"chartData\":\r\n            // numer ula\r\n            store.commit(\"updateHivenumber\", e.data[3]);\r\n            // dane uli\r\n            store.commit(\"updateTemp\", e.data[1][0]);\r\n            store.commit(\"updateHumi\", e.data[1][1]);\r\n            store.commit(\"updateSound\", e.data[1][2]);\r\n            store.commit(\"updateWeight\", e.data[1][3]);\r\n            store.commit(\"updateBattery\", e.data[2]);\r\n            store.commit(\"incChartCounter\");\r\n            break;\r\n        case \"tableData\":\r\n            // numer ula\r\n            store.commit(\"updateHivenumber\", e.data[3]);\r\n            // dane uli\r\n            store.commit(\"updateTable\", e.data[1]);\r\n            store.commit(\"updateBattery\", e.data[2]);\r\n            store.commit(\"incTableCounter\");\r\n            break;\r\n    }\r\n});\r\n\r\n// wysyłanie danych do workera\r\nexport function sendMessage(data){\r\n    worker.postMessage(data)\r\n}\r\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./TablesPage.vue?vue&type=style&index=0&id=211029e2&scoped=true&lang=css\"","<template>\r\n  <base-layout page-title=\"Tabele\">\r\n    <ion-refresher slot=\"fixed\" @ionRefresh=\"doRefresh($event)\">\r\n      <ion-refresher-content ></ion-refresher-content>\r\n    </ion-refresher>\r\n    <div class=\"bg-img2\">\r\n      <ion-label class=\"label-text\">Witaj</ion-label>\r\n      <p>{{user.email}}</p>\r\n    </div>\r\n    <div class=\"bg-img2\">\r\n      <ion-item>\r\n        <ion-label class=\"label-text\">Wybrany ul</ion-label>\r\n        <ion-select placeholder=1 @ionChange=\"changeHive()\" v-model=\"selectedOption\" interface=\"popover\">\r\n          <ion-select-option v-for=\"(item, index) in hives\" :key=\"index\" :value=\"item\">{{item}}</ion-select-option>\r\n        </ion-select>\r\n      </ion-item>\r\n    </div>\r\n    <div class=\"bg-img2\">\r\n        <ion-row>      \r\n          <ion-label class=\"label-text\">Bateria</ion-label>\r\n        </ion-row>\r\n        <ion-row>\r\n          <ion-col>\r\n            <ion-label>{{battery_var}}</ion-label>\r\n          </ion-col>\r\n          <ion-col size=9>\r\n            <div class=\"progress progress-sm mr-2\" style=\"margin-top: 8px;\">\r\n              <div class=\"progress-bar bg-info\" role=\"progressbar\"\r\n                :style=\"{width: battery + '%'}\" aria-valuenow=\"90\" aria-valuemin=\"0\"\r\n                aria-valuemax=\"100\" id=\"batery\" ref=\"batery\">\r\n              </div>\r\n            </div>\r\n          </ion-col>\r\n        </ion-row>\r\n    </div>\r\n    <div class=\"bg-img2\">\r\n      <EasyDataTable\r\n        :headers=\"headers\"\r\n        :items=\"items\"\r\n        alternating\r\n        border-cell\r\n        buttons-pagination\r\n        table-class-name=\"customize-table\"\r\n        empty-message=\"Wczytywanie danych\"\r\n        :hide-rows-per-page=\"hideRowsPerPage\"\r\n        :rows-per-page=\"rowsPerPAge\"\r\n        :loading=\"loading\"\r\n        :theme-color=\"themecolor\"\r\n      >\r\n        <template #loading>\r\n          <img\r\n            src=\"https://i.pinimg.com/originals/94/fd/2b/94fd2bf50097ade743220761f41693d5.gif\"\r\n            style=\"width: 100px; height: 80px;\"\r\n          />\r\n        </template>\r\n      </EasyDataTable>\r\n    </div>\r\n  </base-layout>\r\n</template>\r\n\r\n<script>\r\n\r\nimport firebase from \"firebase/app\";\r\nimport 'firebase/auth';\r\nimport store from \"../store/index.js\";\r\nimport { sendMessage } from '../worker-api';\r\n\r\nimport { \r\n  IonRefresher,\r\n  IonRefresherContent,\r\n  IonLabel,\r\n  IonSelectOption,\r\n  IonSelect,\r\n  IonItem,\r\n  IonRow,\r\n  IonCol,\r\n} from '@ionic/vue';\r\nimport { defineComponent } from 'vue';\r\n \r\n\r\nexport default defineComponent({\r\n  components: {\r\n    IonRefresher,\r\n    IonRefresherContent,\r\n    IonLabel,\r\n    IonSelectOption,\r\n    IonSelect,\r\n    IonItem,\r\n    IonRow,\r\n    IonCol,\r\n    EasyDataTable: window['vue3-easy-data-table'],\r\n  },\r\n  data() {\r\n    return {\r\n      user: \"\",\r\n      battery_var: \"0%\",\r\n      selectedOption: 1,\r\n      battery: 0,\r\n      hives: [],\r\n      headers: [\r\n          { text: \"Waga [kg]\", value: \"weight\", sortable: true },\r\n          { text: \"Temp. [°C]\", value: \"temp\", sortable: true },\r\n          { text: \"Wilg. [%]\", value: \"humi\", sortable: true },\r\n          { text: \"Dźwięk [V]\", value: \"sound\", sortable: true },\r\n          { text: \"Data\", value: \"date\", sortable: false },\r\n        ],\r\n        items: [],\r\n        rowsPerPAge: 100,\r\n        hideRowsPerPage: true,\r\n        loading: true,\r\n        themecolor: \"#FFDE7C\",\r\n    }\r\n  },\r\n  created() {\r\n    firebase.auth().onAuthStateChanged((user) => {\r\n      if (user) {\r\n        this.user = user;\r\n        store.commit('sendToken', this.user.email)\r\n        sendMessage([this.user.email, 1, 'table']);\r\n        console.log(store.state.weightData)\r\n        \r\n      } else {\r\n        this.user = \"\";\r\n        this.$router.push('/login')\r\n      }\r\n    });\r\n  },\r\n  computed: {\r\n    counterUpdated() {\r\n      return store.state.tableChangeCounter;\r\n    }\r\n  },\r\n  watch: {\r\n    counterUpdated (){\r\n      console.log(\"Table data updated!\")\r\n      this.fillTable();\r\n    }\r\n  },\r\n  methods: {\r\n    fillTable(){\r\n      this.user_info = store.state.userData;\r\n      if(!this.hives.length)\r\n        for (var i=0; i < this.user_info[2]; i++) this.hives.push(i + 1);\r\n      this.items = store.state.tableData[this.selectedOption - 1];\r\n      this.battery = store.state.batteryData[this.selectedOption - 1];\r\n      \r\n      if (this.battery > 100)\r\n        this.battery_var = \"100%\";\r\n      else \r\n        this.battery_var = this.battery + \"%\";\r\n      this.loading = false;\r\n    },\r\n    changeHive(){\r\n      this.loading = true;\r\n      this.items = [];\r\n      // worker message\r\n      if (!store.state.batteryData[this.selectedOption - 1])\r\n        sendMessage([this.user.email, this.selectedOption, 'table']);\r\n      else\r\n        this.fillTable();\r\n    },\r\n    doRefresh(event) {\r\n      this.loading = true;\r\n      this.items = [];\r\n      sendMessage([this.user.email, this.selectedOption, 'table']);\r\n      setTimeout(() => {\r\n        event.target.complete();\r\n      }, 2000);\r\n    }\r\n  },\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.customize-table {\r\n  --easy-table-body-even-row-background-color:\t#fffde0;\r\n}\r\n</style>","import { render } from \"./TablesPage.vue?vue&type=template&id=211029e2&scoped=true\"\nimport script from \"./TablesPage.vue?vue&type=script&lang=js\"\nexport * from \"./TablesPage.vue?vue&type=script&lang=js\"\n\nimport \"./TablesPage.vue?vue&type=style&index=0&id=211029e2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-211029e2\"\n\nexport default script"],"sourceRoot":""}